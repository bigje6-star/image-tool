# 图片处理工具 - 规格说明书

## 1. 项目概述

- **项目名称**: ImageCraft - 专业图片处理工具
- **项目类型**: 单页Web应用
- **核心功能**: 提供裁剪、缩放、去水印、文字添加等图片处理功能
- **目标用户**: 需要快速处理图片的普通用户

## 2. UI/UX 规格

### 布局结构

```
+----------------------------------------------------------+
|  HEADER (Logo + 标题)                                     |
+----------------------------------------------------------+
|  TOOLBAR (工具切换标签)                                     |
+----------------------------------------------------------+
|                                                           |
|                    CANVAS 工作区                          |
|                (图片预览/编辑区域)                          |
|                                                           |
+----------------------------------------------------------+
|  工具面板 (根据选中工具显示不同选项)                         |
+----------------------------------------------------------+
|  FOOTER (文件大小信息 + 下载按钮)                          |
+----------------------------------------------------------+
```

### 响应式断点
- 桌面端: > 1024px (主要支持)
- 平板端: 768px - 1024px
- 移动端: < 768px (基础支持)

### 视觉设计

**配色方案 - 深色专业风格**
- 主背景: #0f0f0f (深黑)
- 次背景: #1a1a1a (卡片背景)
- 强调色: #6366f1 (靛蓝紫)
- 强调色悬停: #818cf8
- 成功色: #22c55e (绿色)
- 文字主色: #f5f5f5
- 文字次色: #a1a1aa
- 边框色: #27272a
- 输入框背景: #27272a

**字体**
- 主字体: "Outfit", sans-serif (Google Fonts)
- 等宽字体: "JetBrains Mono", monospace (用于尺寸显示)
- 标题: 24px / 600 weight
- 正文: 14px / 400 weight
- 按钮: 14px / 500 weight

**间距系统**
- 基础单位: 4px
- 小间距: 8px
- 中间距: 16px
- 大间距: 24px
- 区块间距: 32px

**视觉效果**
- 卡片阴影: 0 4px 24px rgba(0,0,0,0.4)
- 按钮悬停: 背景色变亮 + 轻微上移
- 过渡动画: 0.2s ease-out
- 圆角: 8px (按钮), 12px (卡片), 16px (大区块)

### 组件设计

**工具标签**
- 横向排列的标签栏
- 选中状态: 底部高亮条 + 文字高亮
- 包含图标 + 文字

**上传区域**
- 虚线边框拖放区域
- 悬停时边框变为实线 + 背景变亮
- 支持点击上传

**裁剪比例选择器**
- 预设按钮: 1:1, 4:3, 16:9, 3:2, 自由
- 选中状态: 背景高亮

**滑块控件**
- 自定义样式滑块
- 显示当前值
- 实时预览

**颜色选择器**
- 预设颜色调色板
- 自定义颜色输入

**字体选择器**
- 下拉选择
- 预览字体效果

**按钮**
- 主按钮: 强调色填充
- 次按钮: 边框样式
- 禁用状态: 降低透明度

## 3. 功能规格

### 3.1 图片上传
- 支持拖拽上传和点击选择
- 支持格式: JPG, PNG, WebP, GIF
- 最大文件大小: 20MB
- 上传后自动适应画布大小

### 3.2 裁剪功能
**预设比例选项**
- 1:1 (正方形)
- 4:3 (标准)
- 16:9 (宽屏)
- 3:2 (照片)
- 自由比例

**交互方式**
- 鼠标拖拽裁剪框边缘调整大小
- 拖拽裁剪框内部移动位置
- 裁剪框保持比例(选择固定比例时)
- 实时显示裁剪区域尺寸

### 3.3 调整大小功能
**尺寸调整**
- 宽度/高度输入框(保持比例锁定)
- 百分比滑块 (10% - 200%)
- 预设尺寸按钮: 50%, 75%, 100%, 150%, 200%

**文件大小预览**
- 实时显示当前设置下的预估文件大小(KB/MB)
- 使用 Canvas.toDataURL 估算

### 3.4 去水印功能
**涂抹笔工具**
- 笔刷大小滑块: 10px - 100px
- 笔刷硬度/边缘模糊度
- 颜色: 默认为图片邻近区域的平均色
- 涂抹时实时预览效果

**算法**
- 使用采样邻近像素进行智能修复
- 简单的纹理复制填充

### 3.5 文字添加功能
**文字区域创建**
- 鼠标点击画布放置文字
- 可拖拽移动文字位置

**文字样式**
- 字体选择: 系统字体 + Google Fonts
  - 中文: 思源黑体, 思源宋体, 站酷快乐体, 站酷小薇, 马善政毛笔, 知行楷体, 庆科黄油体
  - 英文: Outfit, Poppins, Montserrat, Pacifico (手写), Bebas Neue (装饰)
  - 系统: Arial, Georgia, Times New Roman, Courier New
- 字号: 12px - 120px
- 颜色: 完整色盘 + 自定义颜色
- 文字效果: 无, 阴影, 发光, 描边, 内阴影, 渐变, 3D
- 对齐: 左, 中, 右

### 3.6 导出功能
- 下载格式: PNG, JPEG, WebP, GIF
- JPEG/WebP 质量可调 (10% - 100%)
- 保持原始尺寸或裁剪后尺寸

## 4. 技术实现

- 纯前端实现，使用 Canvas API
- 无需后端服务器
- 使用 localStorage 暂存图片数据
- 模块化 JavaScript 代码结构

## 5. 验收标准

### 视觉检查点
- [x] 深色主题正确显示
- [x] 所有工具标签可点击切换
- [x] 上传区域支持拖拽和点击
- [x] 裁剪框可自由拖拽和调整
- [x] 滑块控件响应正常
- [x] 按钮悬停效果正常

### 功能检查点
- [x] 可以上传 JPG/PNG 图片
- [x] 裁剪功能正常工作
- [x] 调整大小显示预估文件大小
- [x] 涂抹笔可以去除水印
- [x] 可以添加文字并调整样式
- [x] 可以下载处理后的图片
